<?xml version='1.0' encoding="utf-8"?>
<odoo>

	<report id = "courses_reports"
		model = "qualsys.courses"
		string = "Reporte Cursos"
		report_type = "qweb-pdf"
		name = "qualsys_courses.courses_template"
		menu = "False"/>

	<template id = "courses_template">
		<t t-call = "web.html_container">
			<t t-call = "web.external_layout">
				<t t-foreach="docs" t-as="courses">
					<div class="page">
						<h3>Cursos</h3>
						<table class="table table-condensed">
							<thead>
								<tr>
									<th><strong>Codigo</strong></th>
									<th><strong>Nombre del curso</strong></th>
									<th><strong>Fecha inicio</strong></th>
									<th><strong>Fecha fin</strong></th>
									<th><strong>Duracion horas</strong></th>
									<th><strong>Instructor</strong></th>
									<th><strong>No. Asistentes</strong></th>
								</tr>
							</thead>
							<body>
								<tr t-foreach="docs" t-as="cours">
									<td><span t-esc="cours.code"/></td>
									<td><span t-esc="cours.name"/></td>
									<td><span t-raw="cours.start_date"/></td>
									<td><span t-raw="cours.end_date"/></td>
									<td><span t-raw="cours.duration"/></td>
									<td><span t-raw="cours.teacher_id.name"/></td>
									<td><span t-raw="cours.attendees_number"/></td>
								</tr>
							</body>
						</table>
						<br/>
						<t t-if="cours.attendees_ids">
							<h3>Asistentes</h3>
							<table class="table table-condensed">
								<thead>
									<tr>
										<th><strong>Curso</strong></th>
										<th><strong>Nombre</strong></th>
										<th><strong>Edad</strong></th>
									</tr>
								</thead>
								<body>
									<tr t-foreach="cours.attendees_ids" t-as="attendees">
										<td><span t-esc="attendees.courses_id.name"/></td>
										<td><span t-esc="attendees.partner_id.name"/></td>
										<td><span t-esc="attendees.age"/></td>
										</tr>
								</body>
							</table>
						</t>
					<p style="page-break-after:always;"></p>
					</div>
				</t>
			</t>
		</t>
	</template>
</odoo>